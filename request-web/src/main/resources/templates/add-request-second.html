<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angajament</title>
    <link th:href="@{/css/bootstrap.css}" th:rel="stylesheet">
    <link th:href="@{/css/style.css}" th:rel="stylesheet">
    <link th:href="@{/css/print.css}" th:rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-dark bg-dark fixed-navbar">
    <div class="container-fluid">
        <a class="navbar-brand" th:href="@{/request}">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="45" height="40" viewBox="0 0 256 256"
                 xml:space="preserve">
    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;"
       transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
        <path d="M 74.397 29.83 L 45.807 1.239 c -0.375 -0.375 -1.04 -0.375 -1.416 0 L 15.8 29.83 c -1.572 1.572 -1.572 4.13 0 5.703 s 4.131 1.571 5.702 0 l 0.979 -0.979 v 12.943 c 0 0.553 0.448 1.001 1.001 1.001 c 0.553 0 1.001 -0.448 1.001 -1.001 V 32.551 l 20.616 -20.616 l 20.616 20.616 v 14.945 c 0 0.553 0.448 1.001 1.001 1.001 s 1.001 -0.448 1.001 -1.001 V 34.553 l 0.979 0.979 c 0.762 0.762 1.774 1.181 2.851 1.181 c 1.077 0 2.09 -0.419 2.851 -1.181 c 0.762 -0.761 1.181 -1.774 1.181 -2.851 S 75.159 30.591 74.397 29.83 z M 72.981 34.116 c -0.766 0.766 -2.103 0.767 -2.87 0 L 45.807 9.812 c -0.196 -0.196 -0.452 -0.293 -0.708 -0.293 c -0.256 0 -0.512 0.098 -0.708 0.293 L 20.087 34.116 c -0.767 0.767 -2.103 0.766 -2.871 0 c -0.384 -0.384 -0.595 -0.893 -0.595 -1.436 c 0 -0.542 0.211 -1.052 0.594 -1.435 L 45.099 3.362 l 27.882 27.883 c 0.383 0.384 0.594 0.894 0.594 1.436 S 73.365 33.733 72.981 34.116 z"
              style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #FFFFFF; fill-rule: nonzero; opacity: 1;"
              transform=" matrix(1 0 0 1 0 0)" stroke-linecap="round"/>
        <path d="M 52.057 48.497 c -0.553 0 -1.001 -0.448 -1.001 -1.001 v -9.459 h -12.11 v 9.459 c 0 0.553 -0.448 1.001 -1.001 1.001 c -0.553 0 -1.001 -0.448 -1.001 -1.001 v -10.46 c 0 -0.553 0.448 -1.001 1.001 -1.001 h 14.112 c 0.553 0 1.001 0.448 1.001 1.001 v 10.46 C 53.058 48.049 52.61 48.497 52.057 48.497 z"
              style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #FFFFFF; fill-rule: nonzero; opacity: 1;"
              transform=" matrix(1 0 0 1 0 0)" stroke-linecap="round"/>
        <path d="M 89.497 59.748 c -3.888 -6.456 -10.369 -9.054 -16.135 -6.466 L 57.97 60.438 c -1.678 -2.659 -4.445 -5.578 -9.471 -4.722 l -14.065 2.553 c -2.204 0.191 -4.118 -0.711 -6.143 -1.655 c -2.143 -0.999 -4.362 -2.03 -7.012 -1.797 l -2.222 0.197 v -1.962 c 0 -1.845 -1.501 -3.346 -3.345 -3.346 H 3.345 C 1.501 49.706 0 51.207 0 53.052 v 32.646 c 0 1.845 1.501 3.346 3.345 3.346 h 12.366 c 1.844 0 3.345 -1.501 3.345 -3.346 v -0.339 l 5.79 -0.514 c 3.193 -0.281 6.411 0.912 9.522 2.069 c 2.822 1.049 5.73 2.13 8.668 2.13 c 0.335 0 0.671 -0.014 1.006 -0.044 c 6.322 -0.552 21.121 -9.824 38.255 -20.562 c 1.966 -1.232 3.952 -2.476 5.946 -3.72 C 89.946 63.655 90.509 61.425 89.497 59.748 z M 17.054 85.697 c 0 0.741 -0.602 1.343 -1.343 1.343 H 3.345 c -0.741 0 -1.343 -0.602 -1.343 -1.343 V 53.052 c 0 -0.741 0.602 -1.343 1.343 -1.343 h 12.366 c 0.741 0 1.343 0.602 1.343 1.343 v 2.14 v 30.344 V 85.697 z M 87.184 63.018 c -1.995 1.245 -3.983 2.49 -5.95 3.723 C 65.022 76.899 49.71 86.494 43.867 87.005 c -2.832 0.242 -5.73 -0.828 -8.801 -1.968 c -2.965 -1.103 -6.02 -2.238 -9.235 -2.238 c -0.385 0 -0.772 0.017 -1.162 0.051 l -5.613 0.499 V 57.024 l 2.399 -0.213 c 2.12 -0.189 3.998 0.69 5.99 1.618 c 2.173 1.012 4.421 2.056 7.249 1.823 l 14.153 -2.564 c 4.214 -0.719 6.34 1.886 7.86 4.536 l 0.457 0.797 l 0.001 0 l 0.857 1.494 c -7.289 4.119 -13.553 6.667 -19.124 7.78 c -0.543 0.109 -0.894 0.635 -0.786 1.178 c 0.095 0.476 0.513 0.805 0.981 0.805 c 0.065 0 0.131 -0.006 0.197 -0.02 c 6.008 -1.201 12.746 -3.982 20.6 -8.504 c 0.478 -0.275 0.643 -0.886 0.369 -1.365 l -1.271 -2.216 l 15.209 -7.071 c 4.786 -2.15 10.247 0.132 13.587 5.678 C 88.233 61.528 87.964 62.531 87.184 63.018 z"
              style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #FFFFFF; fill-rule: nonzero; opacity: 1;"
              transform=" matrix(1 0 0 1 0 0)" stroke-linecap="round"/>
    </g>
</svg>
            D.G.P.M.B. - SERVICIUL COMUNICATII SI INFORMATICA
        </a>
        <div class="row">
            <div class="col">
                <form class="d-inline-block mr-3" th:action="@{/request/admin}">
                    <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Pagina admin</button>
                </form>
                <form class="d-inline-block" th:action="@{/request/add-request-form}">
                    <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Adauga solicitare</button>
                </form>
            </div>
            <div class="col-auto">
                <div class="nav-item active">
                    <form th:action="@{/request/search-by-name}" method="get">
                        <div class="input-group">
                            <input class="form-control mr-sm-2" type="search" aria-label="Search" name="name"
                                   required placeholder="Nume solicitant" style="margin-right: 4px;">
                            <div class="input-group-append">
                                <button type="submit" class="btn btn-success" style="margin-left: 5px;">
                                    <span class="glyphicon glyphicon-search"></span> Cauta solicitare
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</nav>

<div style="padding-top: 50px">
    <!-- ANTET TABLE -->
    <table>
        <tbody>
        <tr>
            <td><p>ROMANIA</p></td>
            <td style="text-align: right; padding-right: 15px;"><p>NESECRET</p></td>
        </tr>
        <tr>
            <td><p>MINISTERUL AFACERILOR INTERNE</p></td>
            <td style="text-align: right;">
                <div>
                    <span th:text="${accountRequest.requestStructRegNo}"></span>
                    <label> / </label>
                    <span th:text="${#temporals.format(accountRequest.regDateFromRequestStruct, 'dd-MM-yyyy')}"></span>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <p>INSPECTORATUL GENERAL AL POLITIEI ROMANE</p>
                <div>
                    <img style="width:115px; height:80px; padding-left: 30px" th:src="@{/css/sigla.png}" alt="logo">
                </div>
                <p style="text-transform: uppercase;"><span th:text="${structure.structureName}"></span></p>
                <p style="text-transform: uppercase;"><span th:text="${subunit.subunitName}"></span></p>
                <p style="text-transform: uppercase;"><span th:text="${department.departmentName}"></span></p>
            </td>
            <td></td>
        </tr>
        </tbody>
    </table>

    <div class="header">
        <h5 style="font-weight:bold;">ANGAJAMENT PENTRU UTILIZATORII</h5>
        <h5 th:text="${requestTypeName}"></h5>
    </div>

    <div style="text-indent: 2em;">
        <p th:text="'Subsemnatul ' + ${accountRequest.policemanRequest.lastName} + ' ' + ${accountRequest.policemanRequest.firstNameSecondary} + ' ' + ${accountRequest.policemanRequest.firstName}
        + ', cu CNP ' + ${accountRequest.policemanRequest.personalNumber} + ', am citit și am înțeles prevederile Ghidului General de Securitate pentru Utilizatori'"></p>
        <p> Sunt constient ca trebuie sa respect aceste proceduri pe timpul activitatilor desfasurate de mine pentru
            indeplinirea sarcinilor de serviciu</p>
        <p th:text="'Inteleg ca actiunile mele personale trebuie sa fie in concordanta cu toate cerintele privind securitatea ' +${requestTypeName} +
        ' si ca trebuie sa particip activ la respectarea acestor cerinte de securitate in cadrul ' + ${requestTypeName}"></p>
    </div>

    <div style="padding-top:30px">
        <p>Data luarii la cunostinta:____/____/________</p>
        <div style="text-align :center; text-transform: uppercase; padding-top:30px;">
            <p th:text="${rank.rankName}"></p>
            <p th:text="${accountRequest.policemanRequest.lastName} + ' ' + ${accountRequest.policemanRequest.firstNameSecondary} + ' ' + ${accountRequest.policemanRequest.firstName} "></p>
            <p>________________________</p>
        </div>
    </div>
    <div class="empty-page">
        <div class="no-print">
            <div>
          <span style="text-transform: uppercase; font-weight: bold; color:red; padding-top:20px; padding-bottom:20px;">
                Printati si ulterior incarcati angajamentul privind utilizarea contului,
                semnat de catre lucratorul de politie pentru care se efectueaza solicitarea!
                FORMAT .PDF!
            </span>
            </div>
            <div style="padding-bottom:5px; padding-top:5px;">
                <button class="print-button btn btn-primary" onclick="window.print()">Printează</button>
            </div>
        </div>
        <div class="no-print">
            <div class="no-print mb-3">
                <div class="button-container">
                    <div>
                        <form class="needs-validation" th:action="@{/request/add-request}" method="post"
                              th:object="${accountRequest}" enctype="multipart/form-data">
                            <div style="display: flex; justify-content: space-between;">
                                <div class="mb-3" style="text-align:left;">
                                    <div>
                                        <label class="no-print btn btn-success" for="files">Incarca fisier</label>
                                        <input type="file" id="files" th:field="*{documentData}"
                                               style="visibility:hidden"
                                               accept=".pdf"
                                               required>
                                    </div>
                                    <span class="file-name" id="fileName"></span>
                                </div>
                                <div class="mb-3" style="text-align: right;">
                                    <div>
                                        <input type="hidden" th:field="*{policemanRequest.firstName}"
                                               th:value="${accountRequest.policemanRequest.firstName}"/>
                                        <input type="hidden" th:field="*{policemanRequest.firstNameSecondary}"
                                               th:value="${accountRequest.policemanRequest.firstNameSecondary}"/>
                                        <input type="hidden" th:field="*{policemanRequest.lastName}"
                                               th:value="${accountRequest.policemanRequest.lastName}"/>
                                        <input type="hidden" th:field="*{policemanRequest.personalNumber}"
                                               th:value="${accountRequest.policemanRequest.personalNumber}"/>
                                        <input type="hidden" th:field="*{policemanRequest.certificate}"
                                               th:value="${accountRequest.policemanRequest.certificate}"/>
                                        <input type="hidden" th:field="*{policemanRequest.certificateValidFrom}"
                                               th:value="${accountRequest.policemanRequest.certificateValidFrom}"/>
                                        <input type="hidden" th:field="*{policemanRequest.certificateValidUntil}"
                                               th:value="${accountRequest.policemanRequest.certificateValidUntil}"/>
                                        <input type="hidden" th:field="*{policemanRequest.phoneNumber}"
                                               th:value="${accountRequest.policemanRequest.phoneNumber}"/>
                                        <input type="hidden" th:field="*{policemanRequest.phoneNumberPolice}"
                                               th:value="${accountRequest.policemanRequest.phoneNumberPolice}"/>
                                        <input type="hidden" th:field="*{policemanRequest.email}"
                                               th:value="${accountRequest.policemanRequest.email}"/>
                                        <input type="hidden" th:field="*{policemanRequest.rankId}"
                                               th:value="${accountRequest.policemanRequest.rankId}"/>
                                        <input type="hidden" th:field="*{policemanRequest.policeStructureId}"
                                               th:value="${accountRequest.policemanRequest.policeStructureId}"/>
                                        <input type="hidden" th:field="*{policemanRequest.policeStructureSubunitId}"
                                               th:value="${accountRequest.policemanRequest.policeStructureSubunitId}"/>
                                        <input type="hidden" th:field="*{policemanRequest.departmentId}"
                                               th:value="${accountRequest.policemanRequest.departmentId}"/>
                                        <input type="hidden" th:field="*{requestTypeId}"
                                               th:value="${accountRequest.requestTypeId}">
                                        <input type="hidden" th:field="*{requestStructRegNo}"
                                               th:value="${accountRequest.requestStructRegNo}">
                                        <input type="hidden" th:field="*{regDateFromRequestStruct}"
                                               th:value="${accountRequest.regDateFromRequestStruct}">
                                        <input type="hidden" th:field="*{observation}"
                                               th:value="${accountRequest.observation}">
                                    </div>
                                    <div>
                                        <button type="submit" class="no-print btn btn-success">
                                            Finalizeaza
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script th:src="@{/js/jquery-3.7.0.js}" type="text/javascript"></script>
<script th:src="@{/js/script.js}" type="text/javascript"></script>
<script th:src="@{/js/popper.min.js}" type="text/javascript"></script>
<script th:src="@{/js/bootstrap.js}" type="text/javascript"></script>
</body>
</html>