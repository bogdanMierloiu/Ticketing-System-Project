<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adaugare solicitare</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link th:href="@{/css/style.css}" th:rel="stylesheet">
</head>
<body>
<div class="content-wrap">
    <form th:action="@{/request/admin}">
        <button class="btn btn-info mt-3" type="submit">Pagina admin</button>
    </form>
    <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <h2 class="text-center mb-4">Formular de solicitare</h2>
                <form class="needs-validation" th:action="@{/request/add-request}" method="post">
                    <div class="mb-3">
                        <label for="requestType" class="form-label font-bold" style="font-weight: bold;">Tipul solicitarii:</label>
                        <select id="requestType" class="form-select" th:field="*{accountRequest.requestTypeId}"
                                required>
                            <option value="">Selectați tipul solicitarii</option>
                            <option th:each="requestType : ${requestTypes}" th:value="${requestType.id}"
                                    th:text="${requestType.requestName}"></option>
                        </select>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" style="font-weight: bold;">Informatii politist</label>
                    </div>
                    <div class="mb-3">
                        <label for="rankId" class="form-label">Grad profesional:</label>
                        <select id="rankId" class="form-select" th:field="*{accountRequest.policemanRequest.rankId}"
                                required>
                            <option value="">Selectati gradul profesional</option>
                            <option th:each="rank : ${ranks}" th:value="${rank.id}" th:text="${rank.rankName}"></option>
                        </select>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>
                    <div class="mb-3">
                        <label for="lastName" class="form-label">Nume de familie:</label>
                        <input id="lastName" type="text" class="form-control"
                               th:field="*{accountRequest.policemanRequest.lastName}" required>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="firstName" class="form-label">Prenume:</label>
                            <input id="firstName" type="text" class="form-control"
                                   th:field="*{accountRequest.policemanRequest.firstName}" required>
                            <div class="invalid-feedback">Campul este obligatoriu.</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="firstNameSecondary" class="form-label">Al doilea prenume:</label>
                            <input id="firstNameSecondary" type="text" class="form-control"
                                   th:field="*{accountRequest.policemanRequest.firstNameSecondary}">
                            <div class="invalid-feedback">Campul este obligatoriu.</div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="personalNumber" class="form-label">CNP:</label>
                        <input id="personalNumber" type="text" class="form-control"
                               th:field="*{accountRequest.policemanRequest.personalNumber}" required>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>

                    <div class="mb-3">
                        <label for="certificate" class="form-label">Autorizatie serie/nr:</label>
                        <input id="certificate" type="text" class="form-control"
                               th:field="*{accountRequest.policemanRequest.certificate}" required>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="certificateValidFrom" class="form-label">Valabila de la:</label>
                            <input id="certificateValidFrom" type="date" class="form-control"
                                   th:field="*{accountRequest.policemanRequest.certificateValidFrom}" required>
                            <div class="invalid-feedback">Campul este obligatoriu.</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="certificateValidUntil" class="form-label">Valabila pana la:</label>
                            <input id="certificateValidUntil" type="date" class="form-control"
                                   th:field="*{accountRequest.policemanRequest.certificateValidUntil}" required>
                            <div class="invalid-feedback">Campul este obligatoriu.</div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="phoneNumber" class="form-label">Nr. de telefon mobil:</label>
                            <input id="phoneNumber" type="text" class="form-control"
                                   th:field="*{accountRequest.policemanRequest.phoneNumber}" required>
                            <div class="invalid-feedback">Campul este obligatoriu.</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="phoneNumberPolice" class="form-label">Nr. de telefon interior:</label>
                            <input id="phoneNumberPolice" type="text" class="form-control"
                                   th:field="*{accountRequest.policemanRequest.phoneNumberPolice}" required>
                            <div class="invalid-feedback">Campul este obligatoriu.</div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input id="email" type="text" class="form-control"
                               th:field="*{accountRequest.policemanRequest.email}" required>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>

                    <!-- Police structure -->
                    <div class="mb-3">
                        <label for="policeStructure" class="form-label" style="font-weight: bold;">Structura de poliție:</label>
                        <select id="policeStructure" class="form-select"
                                th:field="*{accountRequest.policemanRequest.policeStructureId}"
                                onchange="populateSubunits()" required>
                            <option value="">Selectați structura de poliție</option>
                            <option th:each="structure : ${structures}" th:value="${structure.id}"
                                    th:text="${structure.structureName}"></option>
                        </select>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>

                    <!-- Subunit structure -->

                    <div class="mb-3">
                        <label for="structuresDropdown" class="form-label" style="font-weight: bold;">Subunitatea de poliție:</label>
                        <select id="structuresDropdown" class="form-select"
                                th:field="*{accountRequest.policemanRequest.policeStructureSubunitId}"
                                onchange="populateDepartments()" required>
                            <option value="">Selectați subunitatea de poliție</option>
                            <option th:each="subunit : ${subunits}" th:value="${subunit.id}"
                                    th:text="${subunit.subunitName}"></option>
                        </select>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>

                    <!-- Department -->
                    <div class="mb-3">
                        <label for="departmentDropdown" class="form-label" style="font-weight: bold;">Departament:</label>
                        <select id="departmentDropdown" class="form-select"
                                th:field="*{accountRequest.policemanRequest.departmentId}" required>
                            <option value="">Selectați departamentul</option>
                            <option th:each="department : ${departments}" th:value="${department.id}"
                                    th:text="${department.departmentName}"></option>
                        </select>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>





                    <div class="mb-3">
                        <label class="form-label" style="font-weight: bold;">Nr.de inregistrare din evidentele structurii solicitante:</label>
                        <input type="text" class="form-control" th:field="*{accountRequest.requestStructRegNo}"
                               required>
                        <div class="invalid-feedback">Campul este obligatoriu.</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label" style="font-weight: bold;">Observatii:</label>
                        <textarea class="form-control" th:field="*{accountRequest.observation}"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success">Adauga</button>
                </form>
            </div>
        </div>
    </div>


</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script th:src="@{/js/script.js}" type="text/javascript"></script>
<script src="http://localhost:35729/livereload.js"></script>
</body>
</html>